unlist(regmatches(resStr,matches))
# try3:
matches = gregexpr("[(][0-9]+[)][0-9]+-[0-9]+",resStr)
regmatches(resStr,matches)
unlist(regmatches(resStr,matches))
res = GET("http://www.319papago.idv.tw/lifeinfo/tkkinc-02.html")
resStr = content(res,as = "text")
Views(matches)
View(matches)
gregexpr("[0-9]+-[0-9]+",resStr)
matches = gregexpr("[0-9]+-[0-9]+",resStr)
View(matches)
library(XML)
library(RCurl)
library(httr)
#get url
for(i in 1:58){tmp <-paste(i,'.html', sep= " ")
web <-paste("www.ptt.cc/bbs/LeeJongSuk/index",tmp,sep=" ")
jong.tiltle<-html_nodes(read_html(web),".title a" )
for(i in 1:58){tmp <-paste(i,'.html', sep= " ")
web <-paste("www.ptt.cc/bbs/LeeJongSuk/index",tmp,sep=" ")
jong.title<-html_nodes(read_html(web),".title a" )
#title urls
R.hrefs <- html_attr(jong.title, 'href')
}
R.hrefs
for(i in jong.titletext){
prinr(i)
}
install.packages("bitops")
install.packages("rJava")
install.packages("Rwordseg", repos="http://R-Forge.R-project.org")
install.packages("tm")
install.packages("tmcn", repos="http://R-Forge.R-project.org", type="source")
install.packages("wordcloud")
install.packages("XML")
install.packages("RCurl")
install.packages("bitops")
#library packages
library(XML)
library(RCurl)
library(httr)
#get url
url1<-read_html("www.ptt.cc/bbs/LeeJongSuk/index/58")
data <- list()
for( i in 1:93){
tmp <- paste(i)
url <- paste0('https://www.koreastardaily.com/tc/drama/', tmp)
html <- htmlParse(getURL(url))
url.list <- xpathSApply(html, "//div[@class='yui-u list-desc']/a[@href]", xmlAttrs)
data <- rbind(data, paste('https://www.koreastardaily.com', url.list, sep=''))
}
library(XML)
library(RCurl)
#r crawler
#library packages
library(rvest)
library(XML)
library(xml2)
library(bitops)
library(RCurl)
library(httr)
library("jiebaRD")
library("jiebaR")
library(tm)
library(tmcn)
library(wordcloud2)
library(XML)
library(RCurl)
#?“å?ç¬¨ç??‡ç?
data <- list()
for( i in 1:93){
tmp <- paste(i)
url <- paste0('https://www.koreastardaily.com/tc/drama/', tmp)
html <- htmlParse(getURL(url))
url.list <- xpathSApply(html, "//div[@class='yui-u list-desc']/a[@href]", xmlAttrs)
data <- rbind(data, paste('https://www.koreastardaily.com', url.list, sep=''))
}
View(url.list)
for( i in 1:93){
url.list <- xpathSApply(html, "//div[@class='yui-u list-desc']/a[@href]", xmlAttrs)
}
View(data)
data1 <- list()
for( i in 1058:1118){
tmp1 <- paste(i, '.html', sep='')
url1 <- paste('https://www.ptt.cc/bbs/StupidClown/index', tmp1, sep='')
html1 <- htmlParse(getURL(url1))
url.list1 <- xpathSApply(html1, "//div[@class='title']/a[@href]", xmlAttrs)
data1 <- rbind(data1, paste('www.ptt.cc', url.list1, sep=''))
}
data <- unlist(data1)
data1 <- unlist(data1)
View(url.list)
data1 <- list(data1)
View(data1)
View(url.list)
for( i in 1:93){
tmp <- paste(i)
url <- paste('https://www.koreastardaily.com/tc/drama/', tmp, sep='')
html <- htmlParse(getURL(url))
url.list <- xpathSApply(html, "//div[@class='yui-u list-desc']/a[@href]", xmlAttrs)
data <- rbind(data, paste('https://www.koreastardaily.com', url.list, sep=''))
}
View(data)
View(data)
View(data)
for( i in 1:93){
url.list <- xpathSApply(html, "//div[@class='yui-u list-desc']/a[@href]", xmlAttrs)
}
View(url.list)
for( i in 1:93){
url.list <- xpathSApply(html, "//div[@class='yui-u list-desc']/a[@href]", xmlAttrs)
}
for( i in 1:93){
tmp <- paste(i)
url <- paste('https://www.koreastardaily.com/tc/drama/', tmp, sep='')
html <- htmlParse(getURL(url))
url.list <- xpathSApply(html, "//div[@class='yui-u list-desc']/a[@href]", xmlAttrs)
data <- rbind(data, paste('https://www.koreastardaily.com', url.list, sep=''))
}
rm data
remove(data)
rm(data1)
rm(all)
remove(url.list)
remove(c(html,html,i, tmp,tmp1, url, url.list1,url1))
remove(html)
rem(html1)
rm(html1)
rm(i)
rm(tmp)
rm(tmp1)
tm(url)
rm(url)
rm(url1)
rm(url.list1)
clear
clearPushBack()
q()
rm(list())
rm(list=())
rm(list)
list=()
rm(list=ls())
setwd("~/GitHub/datascience/week_678")
#2.WORDS_CLEANING
#3.TFIDF
#4.GGPLOT&WORD_CLOUD
#1.R_CRAWLER
#2.WORDS_CLEANING
#3.TFIDF
#4.GGPLOT&WORD_CLOUD
library(rvest)
library(rvest)
title<-read_html("http://sports.ltn.com.tw/baseball")
title<-html_nodes(title, ".boxTitle .listA .list_title")
title<-html_text(title)
title
url<-read_html("http://sports.ltn.com.tw/baseball")
url<-html_nodes(url, ".boxTitle .listA .list_title")
url<-html_attr(url,"href")
##title<-iconv(title,"UTF-8")
url
url<-html_nodes(url, ".boxTitle .listA a ")
url<-html_attr(url,"href")
url<-read_html("http://sports.ltn.com.tw/baseball")
url<-html_nodes(url, ".boxTitle .listA a ")
url<-html_attr(url,"href")
##title<-iconv(title,"UTF-8")
url
title<-read_html("http://sports.ltn.com.tw/baseball")
title<-html_nodes(title, ".boxTitle .listA a")
title<-html_text(title)
##title<-iconv(title,"UTF-8")
title
title<-read_html("http://sports.ltn.com.tw/baseball")
title<-html_nodes(title, ".boxTitle .listA .list_title")
title<-html_text(title)
##title<-iconv(title,"UTF-8")
title
install.packages("magrittr")
install.packages("magrittr")
library(magrittr)
title1<-read_html("http://sports.ltn.com.tw/baseball") %>%
html_nodes(" .boxTitle .listA a ") %>%
html_text()%>%
iconv("UTF-8")
title1
title1<-read_html("http://sports.ltn.com.tw/baseball") %>%
html_nodes(".boxTitle .listA .list_title") %>%
html_text()%>%
iconv("UTF-8")
title1
read_html("http://www.mobile01.com/topiclist.php?f=61") %>%
html_nodes("topic_gen") %>%
html_text() %>%
iconv("UTF-8")
read_html("http://www.mobile01.com/topiclist.php?f=61") %>%
html_nodes("td.subject") %>%
html_text() %>%
iconv("UTF-8")
download.file("http://www.mobile01.com/topiclist.php?f=61","C:\Users\Julin\Documents\GitHub\datascience\week_678")
download.file("http://www.mobile01.com/topiclist.php?f=61","C:\Users\Julin\Documents\GitHub\datascience\week_678")
download.file("http://www.mobile01.com/topiclist.php?f=61","C:/Users/Julin/Documents/GitHub/datascience/week_678")
download.file("http://www.mobile01.com/topiclist.php?f=61","C:\Users\Julin\Downloads")
download.file("http://www.mobile01.com/topiclist.php?f=61","~\Julin\Downloads")
download.file("http://www.mobile01.com/topiclist.php?f=61","~Julin\Downloads")
download.file("http://www.mobile01.com/topiclist.php?f=61","~Downloads")
download.file("http://www.mobile01.com/topiclist.php?f=61","try.html")
download.file(loc,doc)
for(i in 1:20){
loc<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
des<-paste("try",i,".html",sep="")
download.file(loc,doc)
Sys.sleep(runif(1,2,5))
}
download.file(loc,des)
for(i in 1:20){
loc<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
des<-paste("try",i,".html",sep="")
download.file(loc,des)
Sys.sleep(runif(1,2,5))
}
smarttitle<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html.nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
smarttitleM-c(smarttitle,mtitle)
}
smarttitle<-data.frame(smarttitle)
smarttitle<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
smarttitleM-c(smarttitle,mtitle)
}
smarttitle<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
smarttitle-c(smarttitle,mtitle)
}
smarttitle<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
smarttitle-c(smarttitle,mtitle)
}
rm(smarttitle)
smarttitle<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
smarttitle-c(smarttitle,mtitle)
}
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
smarttitle-c(smarttitle,mtitle)
}
st<-NULL
st<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
st-c(st,mtitle)
}
st<-data.frame(st)
View(st)
st<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes(".topic_gen")%>%
html_text()%>% iconv("UTF-8")
st-c(st,mtitle)
}
st<-data.frame(st)
st<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes(".topic_gen")%>%
html_text()%>% iconv("UTF-8")
st-c(st,mtitle)
}
st<-data.frame(st)
st1<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes(".topic_gen")%>%
html_text()%>% iconv("UTF-8")
st1-c(st1,mtitle)
}
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes(".topic_gen")%>%
html_text()%>% iconv("UTF-8")
st1-c(st1,mtitle)
}
read_html("http://www.mobile01.com/topiclist.php?f=61") %>%
html_nodes("td.subject") %>%
html_text() %>%
iconv("UTF-8")
st1<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes(".topic_gen")%>%
html_text()%>% iconv("UTF-8")
st1-c(st1,mtitle)
}
st2<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
st2-c(st2,mtitle)
}
st2<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
st2-c(st2,mtitle)
}
st2<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
st2-c(st2,mtitle)
Sys.sleep(runif(1,2,5))
}
st2<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
st2-c(st2,mtitle)
Sys.sleep(runif(1,2,5))
}
library(magrittr)
st2<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
st2-c(st2,mtitle)
Sys.sleep(runif(1,2,5))
}
library(rvest)
st2<-NULL
for(i in 1:20){
pathfile<-paste("try",i,".html",sep="")
mtitle<-read_html("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
st2-c(st2,mtitle)
Sys.sleep(runif(1,2,5))
}
st2<-NULL
for(i in 1:20){
pathfile<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
st2-c(st2,mtitle)
Sys.sleep(runif(1,2,5))
}
st<-NULL
for(i in 1:20){
pathfile<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
st-c(st,mtitle)
Sys.sle
for(i in 1:20){
pathfile<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
st-c(st,mtitle)
Sys.sleep(runif(1,2,5))
}
for(i in 1:20){
pathfile<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
mtitle<-read_html(pathfile)%>%
html_nodes("td.subject")%>%
html_text()%>% iconv("UTF-8")
st-c(st,mtitle)
Sys.sleep(runif(1,2,5))
}
for(i in 1:20){
pathfile<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
mtitle<-read_html(pathfile)%>%
html_nodes(".topic_gen")%>%
html_text()%>% iconv("UTF-8")
st-c(st,mtitle)
Sys.sleep(runif(1,2,5))
}
st<-data.frame(st)
st<-NULL
for(i in 1:20){
pathfile<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
mtitle<-read_html(pathfile)%>%
html_nodes(".topic_gen")%>%
html_text()%>% iconv("UTF-8")
st-c(st,mtitle)
Sys.sleep(runif(1,2,5))
}
st<-data.frame(st)
for(i in 1:20){
pathfile<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
mtitle<-read_html(pathfile)%>%
html_nodes(".topic_gen")%>%
html_text()%>% iconv("UTF-8")
st-c(st,mtitle)
Sys.sleep(runif(1,2,5))
}
st<-data.frame(st)
st<-NULL
for(i in 1:10){
pathfile<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
mtitle<-read_html(pathfile)%>%
html_nodes(".topic_gen")%>%
html_text()%>% iconv("UTF-8")
st-c(st,mtitle)
Sys.sleep(runif(1,2,5))
}
st<-data.frame(st)
for(i in 1:20){
loc<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
des<-paste("try",i,".html",sep="")
download.file(loc,des)
Sys.sleep(runif(1,2,5))
}
for(i in 1:20){
loc<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
des<-paste("try",i,".html",sep="")
download.file(loc,des)
Sys.sleep(runif(1,2,5))
}
for(i in 1:20){
loc<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
des<-paste("try",i,".html",sep="")
download.file(loc,des)
Sys.sleep(runif(1,2,5))
}
for(i in 1:20){
loc<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
des<-paste("try",i,".html",sep="")
download.file(loc,des)
Sys.sleep(runif(1,2,5))
}
for(i in 1:20){
loc<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
des<-paste("try",i,".html",sep="")
download.file(loc,des)
Sys.sleep(runif(1,2,5))
}
for(i in 1:20){
loc<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
des<-paste("try",i,".html",sep="")
download.file(loc,des)
Sys.sleep(runif(1,2,5))
}
for(i in 1:20){
loc<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
des<-paste("try",i,".html",sep="")
download.file(loc,des)
Sys.sleep(runif(1,2,5))
}
setwd("~/GitHub/datascience/week_678")
for(i in 1:20){
loc<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
des<-paste("try",i,".html",sep="")
download.file(loc,des)
Sys.sleep(runif(1,2,5))
}
rm(list=ls())
t
a<-1
for(i in 1:20){
loc<-paste("http://www.mobile01.com/topiclist.php?f=61&p=",i,sep="")
des<-paste("try",i,".html",sep="")
download.file(loc,des)
Sys.sleep(runif(1,2,5))
}
